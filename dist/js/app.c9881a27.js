(function(){"use strict";var t={4290:function(t,e,i){var s=i(144),a=i(1096),n=i(6035),r=i(3551),o=function(){var t=this,e=t._self._c;return e(a.Z,[t.checkSession()?t._e():e("WelcomeScreen",{on:{login:t.onLogin}}),e("AppLoader",{attrs:{onlyIf:t.loading}}),e("AppSaver",{attrs:{onlyIf:t.saving}}),!t.loading&&t.checkSession()?e("NavBar",{on:{logout:t.logout}}):t._e(),!t.loading&&t.checkSession()?e(r.Z,[e(n.Z,{staticClass:"pa-0 ma-0",staticStyle:{height:"90vh"},attrs:{fluid:""}},[e("MainTabs",{attrs:{"active-tab":t.activeTab},on:{onLoading:t.onLoading}})],1)],1):t._e()],1)},l=[],c=i(5057),d=i(3333),u=i(6878),h=i(116),g=function(){var t=this,e=t._self._c;return e(h.Z,{staticClass:"mx-auto mt-10",staticStyle:{width:"30vw"},attrs:{"icons-and-text":"",grow:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[t._l(t.tabs,(function(i){return e(d.Z,{key:i.name},[e(c.Z,{attrs:{large:""}},[t._v(t._s(i.icon))]),e("div",{staticClass:"caption py-1"},[t._v(t._s(i.name))])],1)})),e(u.Z,[e("UserLogin",t._g({},t.$listeners))],1),e(u.Z,[e("UserRegister",{on:{registered:function(e){t.activeTab=0}}})],1)],2)},m=[],v=i(1828),p=i(3385),f=i(5223),Z=i(4437),y=i(6904),x=i(5294),b=i(5776),w=i(1692),_=i(5251),I=function(){var t=this,e=t._self._c;return e(p.Z,{attrs:{height:t.isProfile?"90vh":null}},[e(w.Z,{attrs:{value:t.loading,color:"success",top:"",app:""}},[t._v("Successful!")]),e(f.ZB,[e(y.Z,{ref:"registerForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(x.Z,{attrs:{justify:"space-around"}},[e(Z.Z,{attrs:{cols:"6"}},[e(_.Z,{attrs:{rules:[t.rules.required],label:"Name",maxlength:"20",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e(Z.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{rules:[t.rules.required],items:t.genders,label:"Gender",required:""},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}})],1),e(Z.Z,{attrs:{cols:"2"}},[e(_.Z,{attrs:{rules:[t.rules.required],label:"Age",type:"number",required:""},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}})],1),e(Z.Z,{attrs:{cols:"6"}},[e(_.Z,{attrs:{rules:[t.rules.required],label:"Height (cm)",type:"number",required:""},model:{value:t.height,callback:function(e){t.height=e},expression:"height"}})],1),e(Z.Z,{attrs:{cols:"6"}},[e(_.Z,{attrs:{rules:[t.rules.required],label:"Weight (kg)",type:"number",required:""},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1),e(Z.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t.isProfile?t._e():e(Z.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:"",autocomplete:"new-password"},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.isProfile?t._e():e(Z.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{block:"","append-icon":t.show?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.passwordMatch],type:t.show?"text":"password",name:"input-10-1",label:"Confirm Password",counter:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.verify,callback:function(e){t.verify=e},expression:"verify"}})],1),e(Z.Z,{staticClass:"d-flex justify-center",attrs:{cols:t.isProfile?3:12}},[e(v.Z,{attrs:{loading:t.loading,"x-large":"",block:"",disabled:!t.valid||t.loading||t.isProfile&&t.anyChanges(),color:"success"},on:{click:t.validateRegisterForm}},[t._v(" "+t._s(t.isProfile?"Save":"Register")+" ")])],1)],1)],1)],1)],1)},k=[],C=i(594),A={name:"UserRegister",props:{isProfile:Boolean},mounted(){this.isProfile&&(this.name=this.user.name,this.gender="M"===this.user.gender?"Male":"Female",this.age=this.user.age,this.height=this.user.height,this.weight=this.user.weight,this.email=this.user.email,this.password=this.user.password)},data:()=>({valid:!0,show:!1,loading:!1,name:"",gender:"",age:"",height:"",weight:"",email:"",password:"",verify:"",emailRules:[t=>!!t||"Required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"],rules:{required:t=>!!t||"Required.",min:t=>t&&t.length>=8||"Min 8 characters"},genders:["Male","Female"]}),computed:{passwordMatch(){return()=>this.password===this.verify||"Password must match"},user(){return this.$actions.userActions.getUser()}},methods:{anyChanges(){const t=this.$actions.userActions.getUser();return this.name===t.name&&this.email===t.email&&+this.age===+t.age&&this.gender.charAt(0)===t.gender&&+this.height===+t.height&&+this.weight===+t.weight},async validateRegisterForm(){if(this.$refs.registerForm.validate()){this.loading=!0;const t={name:this.name,email:this.email,age:this.age,gender:this.gender.charAt(0),height:this.height,weight:this.weight,password:this.password};this.isProfile?(t.id=this.user.id,await this.$actions.userActions.updateUser(t)):(await C.Z.post("api/users",t),this.$refs.registerForm.reset(),this.$emit("registered")),this.loading=!1}}}},S=A,$=i(1001),D=(0,$.Z)(S,I,k,!1,null,"7f2fd687",null),O=D.exports,P=function(){var t=this,e=t._self._c;return e(p.Z,[e(w.Z,{attrs:{timeout:2e3,value:t.wrong,color:"error",top:""}},[t._v("Wrong credentials!")]),e(f.ZB,[e(y.Z,{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:t.validLogin,callback:function(e){t.validLogin=e},expression:"validLogin"}},[e(x.Z,[e(Z.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{rules:t.loginEmailRules,label:"E-mail",required:""},model:{value:t.loginEmail,callback:function(e){t.loginEmail=e},expression:"loginEmail"}})],1),e(Z.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}})],1),e(Z.Z,{staticClass:"d-flex",attrs:{cols:"12",sm:"12",xsm:"12"}},[e(v.Z,{attrs:{loading:t.loading,"x-large":"",block:"",disabled:!t.validLogin||t.loading,color:"success"},on:{click:t.validateLoginForm}},[t._v("Login ")])],1)],1)],1)],1)],1)},T=[],G={name:"UserLogin",data:()=>({rules:{required:t=>!!t||"Required.",min:t=>t&&t.length>=8||"Min 8 characters"},loading:!1,validLogin:!0,show1:!1,wrong:!1,loginPassword:"",loginEmail:"",loginEmailRules:[t=>!!t||"Required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"]}),methods:{validateLoginForm(){this.$refs.loginForm.validate()&&(this.loading=!0,C.Z.post("api/users/check",{email:this.loginEmail,password:this.loginPassword,name:"",gender:"",age:"",height:0,weight:0}).then((t=>{this.$emit("login",t.data),this.loading=!1})).catch((()=>{this.wrong=!0,this.$refs.loginForm.reset(),setTimeout((()=>this.wrong=!1),2e3),this.loading=!1})))}}},L=G,j=(0,$.Z)(L,P,T,!1,null,"4e297a66",null),B=j.exports,E={name:"WelcomeScreen",components:{UserLogin:B,UserRegister:O},data:()=>({activeTab:0,tabs:[{name:"Login",icon:"mdi-account"},{name:"Register",icon:"mdi-account-outline"}]})},F=E,U=(0,$.Z)(F,g,m,!1,null,null,null),q=U.exports,M=i(5452),R=i(1302),N=function(){var t=this,e=t._self._c;return e(M.Z,{attrs:{value:t.onlyIf,"hide-overlay":"",persistent:"",width:"300"}},[e(p.Z,{attrs:{dark:""}},[e(f.ZB,{staticClass:"text-center pt-2"},[t._v("Preparing "),e(R.Z,{staticClass:"mt-5",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},W=[],z={name:"AppLoader",props:{onlyIf:Boolean}},H=z,K=(0,$.Z)(H,N,W,!1,null,"01be68e4",null),Q=K.exports,Y=function(){var t=this,e=t._self._c;return e(M.Z,{attrs:{value:t.onlyIf,persistent:"",width:"300"}},[e(p.Z,{attrs:{dark:""}},[e(f.ZB,{staticClass:"text-center pt-2"},[t._v("Saving "),e(R.Z,{staticClass:"mt-5",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},J=[],V={name:"AppSaver",props:{onlyIf:Boolean}},X=V,tt=(0,$.Z)(X,Y,J,!1,null,"4c7d0d5e",null),et=tt.exports,it=i(9203),st=function(){var t=this,e=t._self._c;return e(it.Z,{attrs:{app:"","min-height":"9vh"}},[e(c.Z,{attrs:{large:""}},[t._v("mdi-heart-pulse")]),e("h2",{staticClass:"ml-4 mt-2",staticStyle:{"font-family":"fantasy"}},[t._v("Health tracker")]),e(v.Z,{attrs:{text:"",fixed:"",right:""},on:{click:function(e){return t.$emit("logout")}}},[t._v(" Logout "),e(c.Z,{staticClass:"ml-1",attrs:{small:""}},[t._v("mdi-logout")])],1)],1)},at=[],nt={name:"NavBar"},rt=nt,ot=(0,$.Z)(rt,st,at,!1,null,"787657b4",null),lt=ot.exports,ct=function(){var t=this,e=t._self._c;return e(h.Z,{staticClass:"fill-height",staticStyle:{opacity:"0.8"},attrs:{vertical:"",value:t.activeTab,dark:"","active-class":"font-weight-bold"}},[t._l(t.tabs,(function(i){return e(d.Z,{key:i.title,staticClass:"justify-start pl-6 mt-2",staticStyle:{width:"15vw"}},[e(c.Z,{attrs:{left:""}},[t._v(t._s(i.icon))]),t._v(" "+t._s(i.title)+" ")],1)})),e(u.Z,{staticClass:"mt-2"},[e("UserStatistics")],1),e(u.Z,[e("UserActivities",t._g({},t.$listeners))],1),e(u.Z,[e("UserGoals",t._g({ref:"goals"},t.$listeners))],1),e(u.Z,{staticClass:"mt-16"},[e("UserRegister",{attrs:{"is-profile":!0}})],1)],2)},dt=[],ut=i(7652),ht=i(7345),gt=i(5234),mt=i(1002),vt=function(){var t=this,e=t._self._c;return e(ut.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.activities,"sort-desc":"","sort-by":"started","disable-pagination":"",loading:t.loadingActivities,"loading-text":"Loading activities","hide-default-footer":"",height:"80vh","fixed-header":""},scopedSlots:t._u([{key:"top",fn:function(){return[e(mt.Z,{attrs:{flat:""}},[e(gt.Z),e(M.Z,{attrs:{"max-width":"30vw"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(v.Z,t._g(t._b({attrs:{dark:""}},"v-btn",s,!1),i),[e(c.Z,[t._v("mdi-plus")]),t._v(" Add ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(p.Z,{staticClass:"pa-0 ma-0"},[e(f.EB,[e("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),e(f.ZB,{staticClass:"pa-1"},[e(n.Z,[e(x.Z,[e(Z.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1),e(Z.Z,{attrs:{cols:"6"}},[e(_.Z,{attrs:{label:"Duration (minutes)",type:"number"},model:{value:t.editedItem.duration,callback:function(e){t.$set(t.editedItem,"duration",e)},expression:"editedItem.duration"}})],1),e(Z.Z,{attrs:{cols:"6"}},[e(_.Z,{attrs:{label:"Calories burned",type:"number"},model:{value:t.editedItem.calories,callback:function(e){t.$set(t.editedItem,"calories",e)},expression:"editedItem.calories"}})],1),e(Z.Z,{attrs:{cols:"12"}},[e(ht.Z,{attrs:{"full-width":"","show-current":"","no-title":""},model:{value:t.editedItem.started,callback:function(e){t.$set(t.editedItem,"started",e)},expression:"editedItem.started"}})],1)],1)],1)],1),e(f.h7,[e(gt.Z),e(v.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),e(v.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1),e(M.Z,{attrs:{"max-width":"30vw"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e(p.Z,[e(f.EB,{staticClass:"text-subtitle-1 justify-center"},[t._v("Are you sure you want to delete this activity? ")]),e(f.h7,[e(gt.Z),e(v.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),e(v.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),e(gt.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:i}){return[e(c.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("mdi-pencil")]),e(c.Z,{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[t._v("No activities")]},proxy:!0}],null,!0)})},pt=[],ft={name:"UserActivities",data:()=>({loadingActivities:!1,dialog:!1,dialogDelete:!1,headers:[{text:"Description",value:"description"},{text:"Duration (minutes)",value:"duration"},{text:"Calories burned",value:"calories"},{text:"Date",value:"started"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{calories:0,description:"",duration:0,started:(new Date).toISOString().split("T")[0]},defaultItem:{calories:0,description:"",duration:0,started:(new Date).toISOString().split("T")[0]}}),computed:{formTitle(){return-1===this.editedIndex?"New Activity":"Edit Activity"},activities(){return this.$actions.activityActions.getActivities()}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()},loadingActivities(t){this.$emit("onLoading",t)}},methods:{editItem(t){this.editedIndex=this.activities.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.editedIndex=this.activities.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},async deleteItemConfirm(){this.loadingActivities=!0,this.closeDelete(),await this.$actions.activityActions.deleteActivity(this.activities[this.editedIndex]),this.loadingActivities=!1},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){this.loadingActivities=!0,this.close();const t={description:this.editedItem.description,duration:this.editedItem.duration,started:new Date(this.editedItem.started).toISOString(),calories:this.editedItem.calories};this.editedIndex>-1?await this.$actions.activityActions.updateActivity(this.activities[this.editedIndex],t):await this.$actions.activityActions.addActivity(t),this.loadingActivities=!1}}},Zt=ft,yt=(0,$.Z)(Zt,vt,pt,!1,null,"db2ca2f6",null),xt=yt.exports,bt=i(2059),wt=i(2680),_t=function(){var t=this,e=t._self._c;return e(ut.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.goals,"sort-desc":"","sort-by":"started","disable-pagination":"",loading:t.loadingGoals,"loading-text":"Loading goals","hide-default-footer":"",height:"80vh","fixed-header":""},scopedSlots:t._u([{key:"top",fn:function(){return[e(mt.Z,{attrs:{flat:""}},[e(gt.Z),e(M.Z,{attrs:{"max-width":"30vw",on:""},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(v.Z,t._g(t._b({attrs:{dark:""}},"v-btn",s,!1),i),[e(c.Z,[t._v("mdi-plus")]),t._v(" Add ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(p.Z,{staticClass:"pa-0 ma-0"},[e(f.EB,[e("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),e(f.ZB,{staticClass:"pa-1"},[e(n.Z,[e(x.Z,[e(Z.Z,{attrs:{cols:"12"}},[e(b.Z,{attrs:{items:t.activities,label:"Select Activity","item-text":"description","item-value":"id",disabled:t.editedIndex>=0},model:{value:t.editedItem.activityId,callback:function(e){t.$set(t.editedItem,"activityId",e)},expression:"editedItem.activityId"}})],1),e(Z.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{label:"Target in minutes",type:"number"},model:{value:t.editedItem.target,callback:function(e){t.$set(t.editedItem,"target",e)},expression:"editedItem.target"}}),e(wt.Z,{staticClass:"pl-0"},[t._v("Achieved")])],1),e(Z.Z,{attrs:{cols:"12"}},[e(bt.Z,{attrs:{min:"0",height:"50",max:t.editedItem.target||0,"thumb-label":"always"},model:{value:t.editedItem.current,callback:function(e){t.$set(t.editedItem,"current",e)},expression:"editedItem.current"}})],1)],1)],1)],1),e(f.h7,[e(gt.Z),e(v.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),e(v.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1),e(M.Z,{attrs:{"max-width":"30vw"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e(p.Z,[e(f.EB,{staticClass:"text-subtitle-1 justify-center"},[t._v(" Are you sure you want to delete this goal? ")]),e(f.h7,[e(gt.Z),e(v.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),e(v.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),e(gt.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.activityId",fn:function({item:e}){return[t._v(" "+t._s(t.activityName(e.activityId))+" ")]}},{key:"item.target",fn:function({item:e}){return[t._v(" "+t._s(e.target+" "+e.unit)+" ")]}},{key:"item.current",fn:function({item:i}){return[e(R.Z,{attrs:{"background-opacity":.2,"buffer-value":100,height:25,width:150,value:i.percent,color:"green"}},[e("strong",[t._v(t._s(i.percent)+"%")])])]}},{key:"item.actions",fn:function({item:i}){return[e(c.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("mdi-pencil")]),e(c.Z,{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[t._v("No goals")]},proxy:!0}],null,!0)})},It=[],kt={name:"UserGoals",data:()=>({loadingGoals:!1,dialog:!1,dialogDelete:!1,headers:[{text:"Activity",value:"activityId"},{text:"Target",value:"target"},{text:"Progress",value:"current"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{target:null,current:0,unit:"minutes",activityId:0},defaultItem:{target:null,current:0,unit:"minutes",activityId:0}}),computed:{formTitle(){return-1===this.editedIndex?"New Goal":"Edit Goal"},goals(){return this.$actions.goalActions.getGoals()},activities(){return this.$actions.activityActions.getActivities()}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()},loadingGoals(t){this.$emit("onLoading",t)}},methods:{activityName(t){const e=this.$actions.activityActions.getActivities().find((e=>e.id===t));return e?e.description:""},editItem(t){this.editedIndex=this.goals.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.editedIndex=this.goals.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},async deleteItemConfirm(){this.loadingGoals=!0,this.closeDelete(),await this.$actions.goalActions.deleteGoal(this.goals[this.editedIndex]),this.loadingGoals=!1},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){this.loadingGoals=!0,this.close();const t={target:this.editedItem.target,current:this.editedItem.current,unit:this.editedItem.unit,activityId:this.editedItem.activityId};this.editedIndex>-1?await this.$actions.goalActions.updateGoal(this.goals[this.editedIndex],t):await this.$actions.goalActions.addGoal(t),this.loadingGoals=!1}}},Ct=kt,At=(0,$.Z)(Ct,_t,It,!1,null,"57d0f226",null),St=At.exports,$t=function(){var t=this,e=t._self._c;return e("div",[e(x.Z,{attrs:{justify:"space-around"}},[e(Z.Z,{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[e("StatsCard",{attrs:{value:t.stats.bmi,text:"BMI",icon:"mdi-scale","gradient-index":5,unit:"kg/m2"}})],1),e(Z.Z,{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[e("StatsCard",{attrs:{value:t.stats.height,text:"Height",icon:"mdi-human-male-height",unit:"ft' in''","gradient-index":1}})],1),e(Z.Z,{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[e("StatsCard",{attrs:{value:t.stats.weight,text:"Weight",icon:"mdi-scale-bathroom",unit:"kg","gradient-index":4,ideal:t.stats.idealWeight}})],1)],1),e(x.Z,[e("GoalSlider",{staticClass:"ma-5"})],1),e(x.Z,[e(Z.Z,{attrs:{cols:"6"}},[e("CalorieChart",{staticClass:"ml-12"})],1),e(Z.Z,{attrs:{cols:"6"}},[e("FluidIntake",{staticClass:"mx-auto",attrs:{value:t.stats.fluidIntake}})],1)],1)],1)},Dt=[],Ot=i(8178),Pt=function(){var t=this,e=t._self._c;return e(p.Z,{staticClass:"mt-5",attrs:{color:"grey lighten-4",hover:"",width:"300","max-height":"150"}},[t.loading?e(Ot.Z,{attrs:{"max-width":"300",height:"150",type:"image"}}):t._e(),t.loading?t._e():e(f.EB,[e(c.Z,{staticClass:"mr-2",attrs:{color:"indigo",size:"50"}},[t._v(" "+t._s(t.icon)+" ")]),e("div",{staticClass:"mr-10"},[t._v(t._s(t.text)+" "),t.ideal?e("div",{staticClass:"text-subtitle-2"},[t._v(" (Ideal "+t._s(t.ideal)+") ")]):t._e()]),e(x.Z,{attrs:{align:"start"}},[e("div",[e("span",{staticClass:"text-h4 font-weight-black",domProps:{textContent:t._s(t.value||"—")}}),e("span",{staticClass:"ml-2 text-subtitle-1"},[t._v(t._s(t.unit))])])])],1),t.loading?t._e():e("SparkLine",{attrs:{"gradient-index":t.gradientIndex}})],1)},Tt=[],Gt=i(3625),Lt=function(){var t=this,e=t._self._c;return e(Gt.Z,{attrs:{value:[0,2,5,9,5,10,3,5,1,7,1,8,2,9],gradient:t.getGradient,smooth:"10",padding:"20","line-width":"4","stroke-linecap":"round","gradient-direction":"top",fill:!1,type:"trend","auto-line-width":!1,"auto-draw":""}})},jt=[];const Bt=[["#222"],["#42b3f4"],["red","orange","yellow"],["purple","violet"],["#00c6ff","#F0F","#FF0"],["#f72047","#ffd200","#1feaea"]];var Et={name:"SparkLine",props:{gradientIndex:Number},computed:{getGradient(){return Bt[this.gradientIndex]}}},Ft=Et,Ut=(0,$.Z)(Ft,Lt,jt,!1,null,null,null),qt=Ut.exports,Mt={name:"StatsCard",props:{value:String,ideal:String,icon:String,text:String,unit:String,gradientIndex:Number,loading:String},components:{SparkLine:qt}},Rt=Mt,Nt=(0,$.Z)(Rt,Pt,Tt,!1,null,"f5721e26",null),Wt=Nt.exports,zt=function(){var t=this,e=t._self._c;return e("Bar",{attrs:{data:t.getChartData(),options:t.chartOptions}})},Ht=[],Kt=i(2005),Qt=i(5750);Qt.kL.register(Qt.Dx,Qt.u,Qt.De,Qt.ZL,Qt.uw,Qt.f$);var Yt={name:"CalorieChart",components:{Bar:Kt.$Q},data:()=>({chartOptions:{scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}},plugins:{title:{display:!0,text:"Daily calories burned",font:{size:15}},legend:{display:!1}},animation:{duration:3e3}}}),methods:{getChartData(){let t=new Map;const e=this.$actions.activityActions.getActivities().slice();return e.forEach((e=>{const i=new Date(e.started).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});t.has(i)?t.set(i,t.get(i)+e.calories):t.set(i,e.calories)})),t=new Map([...t.entries()].sort()),{labels:[...t.keys()],datasets:[{label:"Calories",backgroundColor:"#f87979",barThickness:30,data:[...t.values()]}]}}}},Jt=Yt,Vt=(0,$.Z)(Jt,zt,Ht,!1,null,"0fa89147",null),Xt=Vt.exports,te=function(){var t=this,e=t._self._c;return e(p.Z,{attrs:{color:"grey lighten-4",hover:"",width:"500",height:"90%"}},[t.loading?e(Ot.Z,{attrs:{"max-width":"500",height:"100%",type:"image"}}):t._e(),t.loading?t._e():e(f.EB,[e(x.Z,{staticClass:"mt-3"},[e(Z.Z,{attrs:{cols:"6"}},t._l(t.value,(function(i){return e(c.Z,{key:i,staticClass:"ml-4",attrs:{color:"blue",size:"40"}},[t._v("mdi-cup")])})),1),e(Z.Z,{attrs:{cols:"6"}},[e("span",{staticClass:"float-right"},[t._v("Ideal daily fluid intake")]),e("span",{staticClass:"text-subtitle-1 float-right ma-2"},[t._v("cups")]),e("span",{staticClass:"text-h4 font-weight-black float-right",domProps:{textContent:t._s(t.value)}})])],1)],1)],1)},ee=[],ie={name:"FluidIntake",props:{value:Number,loading:String},methods:{}},se=ie,ae=(0,$.Z)(se,te,ee,!1,null,"7ee6fa24",null),ne=ae.exports,re=i(3296),oe=i(9868),le=i(9687),ce=i(7732),de=function(){var t=this,e=t._self._c;return e(re.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:i}){return[e(oe.Z,{staticClass:"mx-auto",style:i?"cursor:pointer":"",attrs:{width:"91%",color:"grey lighten-5",elevation:i?8:2,height:"100",rounded:""}},[e("span",{staticClass:"ml-5 title"},[t._v("Your goals")]),e(le.ZP,{attrs:{multiple:"","show-arrows":"always"}},t._l(t.getGoals(),(function(i){return e(ce.Z,{key:i.id},[e("div",{staticClass:"mx-5"},[e("span",{staticClass:"text-subtitle-1"},[t._v(t._s(t.activityName(i.activityId)))]),e(R.Z,{staticClass:"mt-2",staticStyle:{"min-width":"300px"},attrs:{"background-opacity":.5,"buffer-value":100,height:10,rounded:"",value:i.percent,color:"light-green"}})],1)])})),1)],1)]}}])})},ue=[],he={name:"GoalSlider",methods:{getGoals(){return this.$actions.goalActions.getGoals()},activityName(t){const e=this.$actions.activityActions.getActivities().find((e=>e.id===t));return e?e.description:""}}},ge=he,me=(0,$.Z)(ge,de,ue,!1,null,"58f21630",null),ve=me.exports,pe={name:"UserStatistics",components:{GoalSlider:ve,FluidIntake:ne,StatsCard:Wt,CalorieChart:Xt},data:()=>({bmi:"",height:"",weight:"",idealWeight:"",fluidIntake:0}),computed:{stats(){const t=this.$actions.userActions.getStats();return{bmi:t.bmi,idealWeight:t.idealWeight,fluidIntake:parseInt(t.fluidIntake),height:this.toFeet(t.height),weight:t.weight.toString()}}},methods:{toFeet(t){const e=.3937*t/12,i=Math.floor(e),s=Math.round(12*(e-i));return i+"′"+s+"′′"}}},fe=pe,Ze=(0,$.Z)(fe,$t,Dt,!1,null,"4f5919f3",null),ye=Ze.exports,xe={name:"MainTabs",components:{UserRegister:O,UserActivities:xt,UserGoals:St,UserStatistics:ye},props:{activeTab:Number},data:()=>({tabs:[{title:"Dashboard",icon:"mdi-view-dashboard"},{title:"Activities",icon:"mdi-run"},{title:"Goals",icon:"mdi-bullseye-arrow"},{title:"Profile",icon:"mdi-account"}]})},be=xe,we=(0,$.Z)(be,ct,dt,!1,null,"50b26e69",null),_e=we.exports,Ie={name:"App",components:{MainTabs:_e,NavBar:lt,AppSaver:et,AppLoader:Q,WelcomeScreen:q},data:()=>({activeTab:0,loading:!1,saving:!1}),created(){this.setupApplication()},methods:{checkSession(){return this.$actions.commonActions.checkSession()},async setupApplication(){this.$actions.commonActions.setAxiosDefaults(),this.checkSession()&&(this.loading=!0,await this.$actions.commonActions.loadStore(),this.loading=!1)},logout(){this.$actions.commonActions.destroySession(),this.$forceUpdate()},async onLogin(t){this.activeTab=0,this.loading=!0,this.$actions.commonActions.startSession(t),await this.setupApplication(),this.loading=!1},onLoading(t){this.saving=t}}},ke=Ie,Ce=(0,$.Z)(ke,o,l,!1,null,null,null),Ae=Ce.exports,Se=i(2250);s.ZP.use(Se.Z);var $e=new Se.Z({});i(2801),i(7658);const De=s.ZP.observable({stats:{},activities:[],goals:[]});var Oe={commonActions:{setAxiosDefaults(){C.Z.defaults.headers.common.Authorization=Pe().get("auth")},startSession(t){Pe().start(),Pe().set("auth","Basic "+btoa(t.email+":"+t.password)),Pe().set("user",t)},checkSession(){return Pe().exists()},destroySession(){Pe().destroy()},async loadStore(){await Te(),await Ge(),await Le()}},userActions:{getUser(){return Pe().get("user")},getStats(){return De.stats},async updateUser(t){await C.Z.patch("api/users/"+Pe().get("user").id,t),Pe().set("user",t),await Le()}},activityActions:{getActivities(){return De.activities.forEach((t=>{t.started.includes("T")&&(t.started=t.started.split("T")[0])})),De.activities},async addActivity(t){t.userId=Pe().get("user").id;const e=await C.Z.post("api/activities",t);De.activities.push(e.data)},async deleteActivity(t){await C.Z["delete"]("api/activities/"+t.id),De.activities.splice(De.activities.indexOf(t),1),De.goals=De.goals.filter((e=>e.activityId!==t.id))},async updateActivity(t,e){e.userId=Pe().get("user").id;const i=t.duration;await C.Z.patch("api/activities/"+t.id,e);const s=De.activities.indexOf(t);De.activities[s].description=e.description,De.activities[s].duration=e.duration,De.activities[s].started=e.started,De.activities[s].calories=e.calories,De.goals.forEach((s=>{s.activityId===t.id&&(s.current=s.current+(e.duration-i))}))}},goalActions:{getGoals(){return De.goals.map((t=>t.percent=(100*t.current/t.target).toFixed(0))),De.goals},async addGoal(t){t.userId=Pe().get("user").id;const e=await C.Z.post("api/goals",t);De.goals.push(e.data)},async deleteGoal(t){await C.Z["delete"]("api/goals/"+t.id),De.goals.splice(De.goals.indexOf(t),1)},async updateGoal(t,e){e.userId=Pe().get("user").id,await C.Z.patch("api/goals/"+t.id,e);const i=De.goals.indexOf(t);De.goals[i].target=e.target,De.goals[i].current=e.current,De.goals[i].unit=e.unit}}};const Pe=()=>s.ZP.prototype.$session;async function Te(){const t=`/api/users/${Pe().get("user").id}/activities`;De.activities=(await C.Z.get(t)).data}async function Ge(){const t=`/api/users/${Pe().get("user").id}/goals`;De.goals=(await C.Z.get(t)).data}async function Le(){const t=Pe().get("user"),e=`api/users/${t.id}/stats`;De.stats=(await C.Z.get(e)).data,De.stats.height=t.height,De.stats.weight=t.weight}s.ZP.prototype.$actions=Oe,s.ZP.config.productionTip=!1,s.ZP.use(i(3757)),new s.ZP({vuetify:$e,render:t=>t(Ae)}).$mount("#app")}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,n){if(!s){var r=1/0;for(d=0;d<t.length;d++){s=t[d][0],a=t[d][1],n=t[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[l])}))?s.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[s,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var d=l(i)}for(e&&e(s);c<r.length;c++)n=r[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(d)},s=self["webpackChunkhealthtrackerui"]=self["webpackChunkhealthtrackerui"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(4290)}));s=i.O(s)})();
//# sourceMappingURL=app.c9881a27.js.map